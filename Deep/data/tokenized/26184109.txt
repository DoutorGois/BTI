BACKGROUND: The density of functional synapses is an important parameter in determining the efficacy of synaptic transmission. However, how functional presynaptic terminal density is regulated under natural physiological conditions is still poorly understood. RESULTS: We studied the factors controlling the density of presynaptic functional terminals at single dendritic branches of hippocampal neurons and found that elevation of intracellular Mg(2+) concentration was effective in increasing the density of functional terminals. Interestingly, the upregulation was not due to synaptogenesis, but to the conversion of a considerable proportion of presynaptic terminals from nonfunctional to functional. Mechanistic studies revealed that the nonfunctional terminals had inadequate Ca(2+)-sensitivity-related proteins, resulting in very low Ca(2+) sensitivity within their vesicle release machinery. We identified energy-dependent axonal transport as a primary factor controlling the amount of Ca(2+)-sensitivity-related proteins in terminals. The elevation of intracellular Mg(2+) enhanced local energy supply and promoted the increase of Ca(2+)-sensitivity-related proteins in terminals, leading to increased functional terminal density. CONCLUSIONS: Our study suggests that local energy supply plays a critical role in controlling the density of functional presynaptic terminals, demonstrating the link between energy supply and efficacy of synaptic transmission.