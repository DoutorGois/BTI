Diabetic conditions worsen the prognosis of stroke. The molecular mechanism underlying the impairment of post-stroke recovery is not very clear. Here, we establish a rat model resembling human cerebral infarction with or without diabetes to determine how diabetes impairs cognitive recovery. Our data show that diabetes inhibits hippocampal BDNF expression and impairs the survival and differentiation of the newborn neural cells in rats with ischemia. Consequently, the rats of diabetic ischemia have a significantly lower score in spatial learning and memory in the Morris water maze test than the non-diabetic ischemia model rats. On the other hand, treatment with BDNF effectively improves hippocampal neurogenesis and the spatial learning and memory in rat with diabetic ischemia. All together, our data suggest that diabetes impaired spatial learning and memory and hippocampal neurogenesis in rats with ischemia by inhibition of the BDNF expression in the hippocampus.